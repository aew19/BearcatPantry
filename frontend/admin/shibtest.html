<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Shib Test</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Shib Test</title>
    </head>
    <body>
        <div>
            <p id="shibData">Test</p>
        </div>
    </body>
    <script>
        async function getShibData(){
            let response = await fetch("https://bearcatspantry.uc.edu/web-services/ShibbolethData")
            try{
                return await response.json();
            }catch{
                return "notFound";
            }
        }

        getShibData().then(
            shibData => {
                console.log(shibData);
                if (shibData != "notFound") {
                    document.getElementById("shibData").innerHTML = JSON.stringify(shibData);
                }
            }
        )
    </script>
</html>
